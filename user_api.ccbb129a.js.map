{"mappings":"gfAAA,IAAAA,EAAAC,EAAA,SCCA,IAAMC,EAAMC,SAASC,cAAc,YAEpB,SAAAC,EAAoBC,GAC/B,IAAAC,EAKID,EAJAE,QAAUC,EAAKF,EAALE,MAAOC,EAAMH,EAANG,OAAMC,EAIvBL,EAHAM,KAAOC,EAAKF,EAALE,MAAOC,EAAIH,EAAJG,KACdC,EAEAT,EAFAS,MACAC,EACAV,EADAU,MAGEC,EAAS,gDAGCC,OADcT,EAAM,0BACCS,OAArBR,EAAO,gBAEhBQ,OAF8BJ,EAAK,6BAE3BI,OAARJ,EAAK,KACQI,OADLL,EAAM,gCACSK,OAAVH,EAAM,MACHG,OADOH,EAAM,uCACHG,OAAVF,EAAM,MAAUE,OAANF,EAAM,8BAIzC,OAAQd,EAAIiB,mBAAmB,YAAaF,E,+BCf9C,SAASG,IACP,IAAMC,EAAWC,OAAOC,YAClBC,EAASrB,SAASsB,gBAAgBC,aAEpCL,EAAWG,GACbG,EAAKC,MAAMC,UAAUC,IAAI,WAEvBT,EAAWG,GACbG,EAAKC,MAAMC,UAAUE,OAAO,U,uBAVhCT,OAAOU,iBAAiB,SAAUZ,GCMlC,IAAMa,EAAW,IAAIC,eAAe,qBAAsB,CACxDC,aAAc,MACdC,aAAc,MAIhBjC,SAASC,cAAc,SAASiC,UAAYC,EAAAC,gBAErC,IAAMZ,EAAO,CAChBa,KAAMrC,SAASC,cAAc,SAC7BqC,KAAMtC,SAASC,cAAc,gBAC7BsC,IAAKvC,SAASC,cAAc,eAC5BuC,IAAKxC,SAASC,cAAc,eAC5BwC,IAAMzC,SAASC,cAAc,YAC7BwB,MAAQzB,SAASC,cAAc,gBAC/ByC,MAAQ1C,SAASC,cAAc,UAC/B0C,IAAM3C,SAASC,cAAc,sBAIjC2C,QAAQC,IAAIrB,EAAKmB,IAAIG,SAErBtB,EAAKC,MAAMI,iBAAiB,SDd5B,WACMV,OAAOC,YAAc,GACvBD,OAAO4B,SAAS,CAAEC,IAAK,EAAGC,SAAU,U,ICaxCzB,EAAKkB,MAAMb,iBAAiB,SDT5B,SAAqBqB,GAEjB1B,EAAKmB,IAAIG,UACTtB,EAAKmB,IAAIG,SAAU,GAGnBtB,EAAKmB,IAAIG,SAAU,C,ICIvB7B,IAGAO,EAAKc,KAAKT,iBAAiB,UAY1B,SAAuBqB,GACtBA,EAAEC,iBH7CQtD,EAAAuD,QAAMC,IAFG,8BAGhBC,MAAK,SAAAC,GAGF,OAAOA,EAASC,KAAKC,QAAQ,E,IG4ClCH,MAAK,SAAAnD,GAEJD,EAAWC,GACXqB,EAAKgB,IAAIkB,UAAW,EAClB5B,EAAS6B,UAETC,EAAaC,KAAK1D,GAClB2D,aAAaC,QAAQC,EAAYC,KAAKC,UAAUN,G,IAGnDO,OAAM,SAAAC,GAELC,EAAAC,OAAOC,QAAQH,EAAMI,Q,OA3BzBhD,EAAKgB,IAAIX,iBAAiB,SA8B1B,WACEe,QAAQC,IAAI,gBACZrB,EAAKiB,IAAIP,UAAY,GACrB4B,aAAaW,WAAWT,E,IA/B1B,IAAMJ,EAAe,GACfI,EAAa,QACbU,EAAYZ,aAAaa,QAAQX,GAEpCU,GACaT,KAAKW,MAAMF,GACnBG,KAAI,SAAA1E,G,OAAQD,EAAWC,E","sources":["src/js/user_api/request.js","src/js/user_api/renderUser.js","src/js/scroll.js","src/js/user_api/user_api.js"],"sourcesContent":["import axios from \"axios\";\n\n\nexport default function usersRequest()   {\n    const BASE_URL = 'https://randomuser.me/api/'\n\n    return  axios.get(BASE_URL)\n    .then(response => {\n       \n\n        return response.data.results[0]\n    })\n  \n}","\nconst gal = document.querySelector('.gallery')\n\nexport default function renderUser(user) {\n    const {\n        picture: {large, medium},\n        name: {first, last}, \n        phone , \n        email\n    } = user\n\n    const markup = `\n    <div>\n      <a class=\"user_img\" href=\"${large}\">\n        <img src=\"${medium}\" alt=\"user ${last}\">\n      </a>\n      <p>${last} ${first}</p>\n      <p><a href=\"tel:${phone}\">${phone}</a></p>\n      <p><a href=\"mailto:${email}\">${email}</a></p>\n    </div>\n    `\n\n  return  gal.insertAdjacentHTML('beforeend', markup)\n}","\nimport { refs } from \"./user_api/user_api\";\nexport { onScroll, onToTop, onToDown, toggleRadio };\n\n\nwindow.addEventListener('scroll', onScroll);\n\nfunction onScroll() {\n  const scrolled = window.pageYOffset;\n  const coords = document.documentElement.clientHeight;\n\n  if (scrolled > coords) {\n    refs.toTop.classList.add('visible');\n  }\n  if (scrolled < coords) {\n    refs.toTop.classList.remove('visible');\n  }\n}\n\nfunction onToTop() {\n  if (window.pageYOffset > 0) {\n    window.scrollTo({ top: 0, behavior: 'smooth' });\n  }\n}\n\nfunction toggleRadio(e) {\n//  console.log(e.target);\n if(refs.box.checked) {\n    refs.box.checked = false\n   \n }\n    refs.box.checked = true\n}\n","import usersRequest from \"./request\";\nimport renderUser from './renderUser'\nimport {headerOfUserApi} from '../mainMarkup'\nimport { Notify } from \"notiflix\";\nimport simpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\"\n// import { doc } from \"prettier\";\nimport '../../css/user_api.css'\nimport '../toIndex'\nimport { onToTop, onScroll, toggleRadio } from \"../scroll\";\n\nconst lightbox = new SimpleLightbox('.gallery .user_img', {\n  captionsData: 'alt',\n  captionDelay: 250,\n \n});\n\ndocument.querySelector('#root').innerHTML = headerOfUserApi\n\nexport const refs = {\n    head: document.querySelector('.head'),\n    form: document.querySelector('#search-form'),\n    sub: document.querySelector('.search-btn'),\n    del: document.querySelector('.delete-btn'),\n    gal : document.querySelector('.gallery'),\n    toTop : document.querySelector('.back-to-top'),\n    radio : document.querySelector('.radio'),\n    box : document.querySelector('[type=\"checkbox\"]'),\n\n}\n\nconsole.log(refs.box.checked);\n// refs.del.disabled = true;\nrefs.toTop.addEventListener('click', onToTop);\nrefs.radio.addEventListener('click', toggleRadio);\nonScroll()\n\n\nrefs.form.addEventListener('submit', submitHandler)\nrefs.del.addEventListener('click', deleteUser)\n\nconst usersStorage = []\nconst storageKey = 'users'\nconst usersData = localStorage.getItem(storageKey)\n\nif(usersData) {\n  const parse = JSON.parse(usersData) \n  parse.map(user => renderUser(user))\n}\n\n function submitHandler(e) {\n  e.preventDefault()\n  usersRequest()\n\n  .then(user => {\n\n    renderUser(user)\n    refs.del.disabled = false;\n      lightbox.refresh();\n\n      usersStorage.push(user)\n      localStorage.setItem(storageKey, JSON.stringify(usersStorage))\n})\n\n  .catch(error => {\n   \n    Notify.failure(error.message)\n})}\n\nfunction deleteUser() {\n  console.log('innerHTML = ');\n  refs.gal.innerHTML = ''\n  localStorage.removeItem(storageKey)\n}\n\n\n\n\n\n"],"names":["$dIxxU","parcelRequire","$cc1ae7e521b4e7b5$var$gal","document","querySelector","$cc1ae7e521b4e7b5$export$2e2bcd8739ae039","user","_picture","picture","large","medium","_name","name","first","last","phone","email","markup","concat","insertAdjacentHTML","$dd9e54e108f59881$export$d4d89fd61e5416ee","scrolled","window","pageYOffset","coords","documentElement","clientHeight","$f8b0d11065db4321$export$21666b427502ea6d","toTop","classList","add","remove","addEventListener","$f8b0d11065db4321$var$lightbox","SimpleLightbox","captionsData","captionDelay","innerHTML","$l9lAS","headerOfUserApi","head","form","sub","del","gal","radio","box","console","log","checked","scrollTo","top","behavior","e","preventDefault","default","get","then","response","data","results","disabled","refresh","$f8b0d11065db4321$var$usersStorage","push","localStorage","setItem","$f8b0d11065db4321$var$storageKey","JSON","stringify","catch","error","$6JpON","Notify","failure","message","removeItem","$f8b0d11065db4321$var$usersData","getItem","parse","map"],"version":3,"file":"user_api.ccbb129a.js.map"}