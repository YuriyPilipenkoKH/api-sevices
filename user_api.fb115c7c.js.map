{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SCCA,MAAMC,EAAMC,SAASC,cAAc,YAEpB,SAAAC,EAAoBC,GAC/B,MACIC,SAASC,MAACA,EAAKC,OAAEA,GACjBC,MAAMC,MAACA,EAAKC,KAAEA,GAAKC,MACnBA,EAAKC,MACLA,GACAR,EAEES,EAAS,gDAEeP,0BACdC,gBAAqBG,6BAE9BA,KAAQD,gCACKE,MAAUA,uCACPC,MAAUA,8BAInC,OAAQZ,EAAIc,mBAAmB,YAAaD,E,+BCf9C,SAASE,IACP,MAAMC,EAAWC,OAAOC,YAClBC,EAASlB,SAASmB,gBAAgBC,aAEpCL,EAAWG,GACbG,EAAKC,MAAMC,UAAUC,IAAI,WAEvBT,EAAWG,GACbG,EAAKC,MAAMC,UAAUE,OAAO,U,uBAVhCT,OAAOU,iBAAiB,SAAUZ,GCMlC,MAAMa,EAAW,IAAIC,eAAe,qBAAsB,CACxDC,aAAc,MACdC,aAAc,MAIhB9B,SAASC,cAAc,SAAS8B,UAAYC,EAAAC,gBAErC,MAAMZ,EAAO,CAChBa,KAAMlC,SAASC,cAAc,SAC7BkC,KAAMnC,SAASC,cAAc,gBAC7BmC,IAAKpC,SAASC,cAAc,eAC5BoC,IAAKrC,SAASC,cAAc,eAC5BqC,IAAMtC,SAASC,cAAc,YAC7BqB,MAAQtB,SAASC,cAAc,gBAC/BsC,MAAQvC,SAASC,cAAc,UAC/BuC,IAAMxC,SAASC,cAAc,sBAIjCwC,QAAQC,IAAIrB,EAAKmB,IAAIG,SAErBtB,EAAKC,MAAMI,iBAAiB,SDd5B,WACMV,OAAOC,YAAc,GACvBD,OAAO4B,SAAS,CAAEC,IAAK,EAAGC,SAAU,U,ICaxCzB,EAAKkB,MAAMb,iBAAiB,SDT5B,SAAqBqB,GAEjB1B,EAAKmB,IAAIG,UACTtB,EAAKmB,IAAIG,SAAU,GAGnBtB,EAAKmB,IAAIG,SAAU,C,ICIvB7B,IAGAO,EAAKc,KAAKT,iBAAiB,UAY1B,SAAuBqB,GACtBA,EAAEC,iBH7CQnD,EAAAoD,QAAMC,IAFG,8BAGhBC,MAAKC,GAGKA,EAASC,KAAKC,QAAQ,KG4ClCH,MAAKhD,IAEJD,EAAWC,GACXkB,EAAKgB,IAAIkB,UAAW,EAClB5B,EAAS6B,UAETC,EAAaC,KAAKvD,GAClBwD,aAAaC,QAnBA,QAmBoBC,KAAKC,UAAUL,GAAc,IAGjEM,OAAMC,IAELC,EAAAC,OAAOC,QAAQH,EAAMI,QAAQ,G,IA3BjC/C,EAAKgB,IAAIX,iBAAiB,SA8B1B,WACEe,QAAQC,IAAI,gBACZrB,EAAKiB,IAAIP,UAAY,GACrB4B,aAAaU,WA9BI,Q,IADnB,MAAMZ,EAAe,GAEfa,EAAYX,aAAaY,QADZ,SAGnB,GAAGD,EAAW,CACET,KAAKW,MAAMF,GACnBG,KAAItE,GAAQD,EAAWC,I","sources":["src/js/user_api/request.js","src/js/user_api/renderUser.js","src/js/scroll.js","src/js/user_api/user_api.js"],"sourcesContent":["import axios from \"axios\";\n\n\nexport default function usersRequest()   {\n    const BASE_URL = 'https://randomuser.me/api/'\n\n    return  axios.get(BASE_URL)\n    .then(response => {\n       \n\n        return response.data.results[0]\n    })\n  \n}","\nconst gal = document.querySelector('.gallery')\n\nexport default function renderUser(user) {\n    const {\n        picture: {large, medium},\n        name: {first, last}, \n        phone , \n        email\n    } = user\n\n    const markup = `\n    <div>\n      <a class=\"user_img\" href=\"${large}\">\n        <img src=\"${medium}\" alt=\"user ${last}\">\n      </a>\n      <p>${last} ${first}</p>\n      <p><a href=\"tel:${phone}\">${phone}</a></p>\n      <p><a href=\"mailto:${email}\">${email}</a></p>\n    </div>\n    `\n\n  return  gal.insertAdjacentHTML('beforeend', markup)\n}","\nimport { refs } from \"./user_api/user_api\";\nexport { onScroll, onToTop, onToDown, toggleRadio };\n\n\nwindow.addEventListener('scroll', onScroll);\n\nfunction onScroll() {\n  const scrolled = window.pageYOffset;\n  const coords = document.documentElement.clientHeight;\n\n  if (scrolled > coords) {\n    refs.toTop.classList.add('visible');\n  }\n  if (scrolled < coords) {\n    refs.toTop.classList.remove('visible');\n  }\n}\n\nfunction onToTop() {\n  if (window.pageYOffset > 0) {\n    window.scrollTo({ top: 0, behavior: 'smooth' });\n  }\n}\n\nfunction toggleRadio(e) {\n//  console.log(e.target);\n if(refs.box.checked) {\n    refs.box.checked = false\n   \n }\n    refs.box.checked = true\n}\n","import usersRequest from \"./request\";\nimport renderUser from './renderUser'\nimport {headerOfUserApi} from '../mainMarkup'\nimport { Notify } from \"notiflix\";\nimport simpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\"\n// import { doc } from \"prettier\";\nimport '../../css/user_api.css'\nimport '../toIndex'\nimport { onToTop, onScroll, toggleRadio } from \"../scroll\";\n\nconst lightbox = new SimpleLightbox('.gallery .user_img', {\n  captionsData: 'alt',\n  captionDelay: 250,\n \n});\n\ndocument.querySelector('#root').innerHTML = headerOfUserApi\n\nexport const refs = {\n    head: document.querySelector('.head'),\n    form: document.querySelector('#search-form'),\n    sub: document.querySelector('.search-btn'),\n    del: document.querySelector('.delete-btn'),\n    gal : document.querySelector('.gallery'),\n    toTop : document.querySelector('.back-to-top'),\n    radio : document.querySelector('.radio'),\n    box : document.querySelector('[type=\"checkbox\"]'),\n\n}\n\nconsole.log(refs.box.checked);\n// refs.del.disabled = true;\nrefs.toTop.addEventListener('click', onToTop);\nrefs.radio.addEventListener('click', toggleRadio);\nonScroll()\n\n\nrefs.form.addEventListener('submit', submitHandler)\nrefs.del.addEventListener('click', deleteUser)\n\nconst usersStorage = []\nconst storageKey = 'users'\nconst usersData = localStorage.getItem(storageKey)\n\nif(usersData) {\n  const parse = JSON.parse(usersData) \n  parse.map(user => renderUser(user))\n}\n\n function submitHandler(e) {\n  e.preventDefault()\n  usersRequest()\n\n  .then(user => {\n\n    renderUser(user)\n    refs.del.disabled = false;\n      lightbox.refresh();\n\n      usersStorage.push(user)\n      localStorage.setItem(storageKey, JSON.stringify(usersStorage))\n})\n\n  .catch(error => {\n   \n    Notify.failure(error.message)\n})}\n\nfunction deleteUser() {\n  console.log('innerHTML = ');\n  refs.gal.innerHTML = ''\n  localStorage.removeItem(storageKey)\n}\n\n\n\n\n\n"],"names":["$2shzp","parcelRequire","$7a47a850d688eb0d$var$gal","document","querySelector","$7a47a850d688eb0d$export$2e2bcd8739ae039","user","picture","large","medium","name","first","last","phone","email","markup","insertAdjacentHTML","$22b277e67ad1df42$export$d4d89fd61e5416ee","scrolled","window","pageYOffset","coords","documentElement","clientHeight","$a8e1c001bd2c85d2$export$21666b427502ea6d","toTop","classList","add","remove","addEventListener","$a8e1c001bd2c85d2$var$lightbox","SimpleLightbox","captionsData","captionDelay","innerHTML","$31gzB","headerOfUserApi","head","form","sub","del","gal","radio","box","console","log","checked","scrollTo","top","behavior","e","preventDefault","default","get","then","response","data","results","disabled","refresh","$a8e1c001bd2c85d2$var$usersStorage","push","localStorage","setItem","JSON","stringify","catch","error","$7Y9D8","Notify","failure","message","removeItem","$a8e1c001bd2c85d2$var$usersData","getItem","parse","map"],"version":3,"file":"user_api.fb115c7c.js.map"}